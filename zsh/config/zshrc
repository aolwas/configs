# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:/usr/local/bin:$PATH
case `uname` in
  Darwin)
    # commands for OS X go here
    export PATH=$PATH:$HOME/go/bin:$HOME/.cargo/bin
  ;;
  Linux)
    # commands for Linux go here
    export PATH=/home/linuxbrew/.linuxbrew/bin:$PATH:$HOME/go/bin:$HOME/.cargo/bin
  ;;
esac

# User configuration

# export MANPATH="/usr/local/man:$MANPATH"

HISTFILE=~/.zsh_history
HISTSIZE=100000
SAVEHIST=100000

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
# if [[ -n $SSH_CONNECTION ]]; then
#   export EDITOR='vim'
# else
#   export EDITOR='mvim'
# fi

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

# ssh
# export SSH_KEY_PATH="~/.ssh/rsa_id"

# Set personal aliases, overriding those provided by oh-my-zsh libs,
# plugins, and themes. Aliases can be placed here, though oh-my-zsh
# users are encouraged to define aliases within the ZSH_CUSTOM folder.
# For a full list of active aliases, run `alias`.
#
# Example aliases
# alias zshconfig="mate ~/.zshrc"
alias ezbench="podman run --rm --net host -it -v /home/aolwas:/root -v /home/linuxbrew:/home/linuxbrew -w /root -e AWS_ACCESS_KEY_ID=$(aws configure get aws_access_key_id) -e AWS_SECRET_ACCESS_KEY=$(aws configure get aws_secret_access_key) docker.io/aolwas/ezbench"

alias antibody-update="antibody bundle < ~/.zsh_plugins.txt > ~/.zsh_plugins.sh"

if [[ -z $container ]]; then
  source ~/.zsh_plugins.sh
else
  # run inside podman container
  echo "Inside podman container"
  source <(antibody init)
  antibody bundle < ~/.zsh_plugins.txt
fi

fpath=(
  /usr/local/share/zsh-completions
  /usr/local/share/zsh/site-functions
  $fpath
)
autoload -U +X compinit && compinit
autoload -U +X bashcompinit && bashcompinit

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
if [ $command[kubectl] ]; then source <(kubectl completion zsh); fi

eval "$(direnv hook zsh)"
